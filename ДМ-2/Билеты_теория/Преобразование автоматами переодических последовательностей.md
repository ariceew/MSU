Связи: [[Понятие абстрактного конечного автомата. Функционирование, диограгмма мура, таблица]] [[_Навигатор ДМ-2]]
Теги: #Автоматы #ДискретнаяМатематика2 

## Более простые формулировки и простая оценка

Последовательность $a(1), ..., a(t)$ называется периодической, если существуют $T_{0}, T$, такие, что 
$$\forall t > T_{0}, \forall k \in N: a(t) = a(t+kT)$$

$\forall \, W \, \forall a(1), ..., a(t), ...$ - периодическая, тогда $f(a(1), ..., a(t), ...) = b(1), ..., b(t), ...$  тоже периодическая с периодом $T' \le r\cdot T$, 
где $t$ - о.д функция веса $r$, реализуемая $W_{q}$ 

Пример периодической последовательгности:

$09999956767676767$
$099995$ - это $T_{0}$, который равен $6$ соответственно
$67$ - это $T$, который равен $2$. 



Если последовательность периодическая, то минимальные $T_{0}$ и $T$ удовлетворяющие условию, называются предпериодом и периодом соответственно. ^96618d

при $t \ge T_{0} + 1$ (мы пропускаем предпериод, и начинаем с периода) выполняется 
$$\begin{cases}
a(t) &= a(T_{0}+1)\\
&= a(T_{0}+2)\\
& ... \\
&= a(T_{0}+T)
\end{cases}$$
$$\exists i, j  : T_{0} + 1 \le i < j \le T_{0} + T \cdot r +1$$
$q(i) \sim q(j)$         $\rightarrow$      $q(i+1) \sim q(j+1)$
$a(i) = a(j)$              $a(i+1) = a(j+1)$
$j-i=k \cdot T$          $(j+1)-(i+1) =k \cdot T$ 

Положим
$T'=j-i$ 
$T_{0}' = i-1$ (начало нашего нового периода) ^24680b

Из этого следует:
$\forall \tau \in \mathbb{N}$
$q(i+\tau) \sim q(j+\tau)$  
$a(i+\tau) = a(j+\tau)$             
$(j+\tau)-(i+\tau)=k \cdot T$
$b(i+\tau)=b(j+\tau)$ ^64cb44

Зная [[#^64cb44| это]], докажем следущее:

$\forall t > T_{0}'$        $\forall k$
$q(t) \sim q(t+k \cdot T')$
$b(t) = b(t+k \cdot T')$

Возьмем $\tau = t-i$ (так как нам сказано, для любого $\tau$ ), тогда

$$\begin{cases}
q(i+\tau) \sim q(j + \tau) &\rightarrow q(t)\sim q(t+j-i) &= q(t+T')\\
b(i+\tau) = q(j + \tau) &\rightarrow b(t)= q(t+j-i) &= b(t+T')
\end{cases}$$
Повторяя эту операцию последовательно или если каждый раз брать новый $t = t + T'$ (за сумму предыдущего $t$ и $T'$ ), тогда получим то что хотим доказать.

## Формулировка из книги

Тут уже значения символов будут отличаться, внимательно следите. Ниже оставил примечания чтобы было легче.

Длинна периода - $\tau$ 
Вес функции - $n$

### Первая часть теоремы

> $T' = \theta m$

$m = \{1, ..., n\}$
$\theta$ - делитель периода $T$ 

> Почему максимальная оценка будет такой же?

Самый большой делитель числа $T$, это само число $T$, а самое большое возможное значение числа $m$ это $n$. Поэтому справедливо неравенство
$T' = \theta m \le T \cdot n$ 

### Вторая часть теоремы
Если $|A| \ge 3$ и $|B| \ge 2$, то каждое такое значение вида $\theta m$ достигается при некоторрых о.д функции $f$ и сверхслове $\alpha$, удовлетворяющих указанным условиям

> Пояснение от Волкова: Суть второй части состоит в том, что других периудов у выходной последовательности быть не может.

## Доказательство первой части

Рассмотрим произвольное периодическое сверхслово $\alpha$ из $A^{\infty} : \alpha= a(1)a(2)...$. 
Обозначим $f^{\infty}(\alpha) = \beta, \beta = b(1)b(2)...$
Наименьшая длинна периода сверхслова $\alpha$ равна $\tau$, а длинна предпериода равна $\tau'$. Тогда при всех $i \ge \tau' +1$ (примечание, в формулировке Волкова предпериод обозначался $T_{0}'$ ) выполняется $a(i) = a(\tau + i)$. 

Обозначим $\alpha_{1}=a(1)...a(\tau')$ (вся предпериодическая часть входного слова) и $\alpha_{2} = a(\tau'+1)...a(\tau' + \tau)$ (вся периодическая часть входного слова. Т.е входное слово будет выглядеть след образом $\alpha= \alpha_{1}\alpha_{2}...\alpha_{2}$).

В последовательности $\phi(q_{1}, \alpha_{1}, \alpha_{2}), \phi(q_{1}, \alpha_{1}, \alpha_{2} \alpha_{2}), ... \phi(q_{1}, \alpha_{1}, \alpha_{2} ... \alpha_{2})$,  ($\alpha_{2} ... \alpha_{2}$ штук $n+1$) встречается не более чем $n$ различных элементов

Поэтому существуют такие $i_{1}$, $i_{2}$, такие, что $1 \le i_{1} < i_{2} \le n+1$, для которых $\phi(q_{1}, \alpha_{1}\alpha_{2}...\alpha_{2}) = \phi(q_{1}, \alpha_{1}\alpha_{2}...\alpha_{2})$ (слева $i_{1}$ штук $\alpha_{2}$, а справа $i_{2}$ штук $\alpha_{2}$).

>(Примечание: если смотреть на определение Волкова, то там в роли $i_{1}$ было просто $i$, а в роли $i_{2}$ былo $j$, а равенство выше, соотвествует равенству $q_{i} \sim q_{j}$ ([[#^96618d |тык]]))

Обозначим $q = \phi(q_{1},\alpha_{1}\alpha_{2}...\alpha_{2})$ ($\alpha_{2}$ встречается $i_{1}$ раз), $\alpha_{3} =\alpha_{2}...\alpha_{2}$ ($\alpha_{2}$ встречается $i_{2}-i_{1}$ раз). Тогда $q = \phi(q, \alpha_{3})$ ($\alpha_{3}$ - входная часть слова соответствующая периоду выходного слова). Обозначим, далее, $q(i)=\phi(q_{1},a(1)...a(i-1)), i=1,2,...$. Если $i \ge \tau'+i_{1},\tau+1$, то слово $a(1)...a(i-1)$ можно представить в виде $\alpha_{1}\alpha_{2}...\alpha_{2}\alpha_{3}...\alpha_{3}'$, где $i \ge 0$ и $\alpha_{3}'$ - начала слова $\alpha_{3}$. $\alpha_{3}' \ne \alpha_{3}$. Тогда имеем
$$q(1)=\phi(q_{1}, a(1)...a(i-1))=\phi(q_{1}, \alpha_{2}\alpha_{2}...\alpha_{2}\alpha_{3}...\alpha_{3}\alpha_{3}')=\phi(q,\alpha_{3}...\alpha_3\alpha_{3}')$$ (тут $\alpha_{2}$ встречается $i_{1}$ раз, а $\alpha_{3}$ встречается $j$ раз)

Далее $a(1)...a(i+\tau(i_{2}-i_{1})-1)=\alpha_{1}\alpha_{2}...\alpha_{2}\alpha_{3}...\alpha_{3}\alpha_{3}'$ (тут $\alpha_{2}$ встречается $i_{1}$ раз, а $\alpha_{3}$ встречается $j+1$ раз), откуда $q(i+\tau(i_{2}-i_{1}))=\phi(q, \alpha_{3}')=q(i)$. Так как $a(i+\tau(i_{2}-i_{1}))=a(i)$, то 
$$b(i+\tau(i_{2}-i_{1}) = \psi(q(i+\tau(i_{2}-i_{1}), a(i+\tau(i_{2}-i_{1}))=\psi(q(i),a(i))=b(i)$$

>(Примечание: обозначение $m$ (в книге) и $i-j$ у Волкова имеют один и тот же смысл и равны. То есть $m=j-i=i_{2}-i_{1}$ (также можно [[#^24680b | тыкнуть, чтобы лучше понять]]))

>Ссылаясь на [[Теорема с 8 класса для доказательства периодов в автоматах]], авторы делают вывод:

Cледовательно, сверхслово $\beta$ периодическое с длинной периода $\tau(i_{2}-i_{1})$ и длинной предпериода $\tau' +i_{1}\tau$. Наименьшая длинна периода сверхслова $\beta$ делит величину $\tau(i_{2}-i_{1})$(текущую длинну периода), т.е представима в виде $\theta m$, где $\theta$ делит $\tau$, а $m$ делит $i_{2}-i_{1}$. Но $i_{2}-i_{1} \in \{1,...,n\}$, так что $m \in \{1,...,n\}$, и первая часть утверждение доказана.


## Доказательство второй части

Пусть $A = \{a_{1},...,a_{k}\}$, $B = \{b_{1},...b_{p}\}$, $k \ge 3$, $p \ge 2$. Рассмотрим произвольное натуральное $\tau$ и выбрем произовльно делитель $\theta$ числа $\tau$, а также число $m \in \{1,...n\}$. Определим автомат $V_{q}=(A, \{q_{1},...q_{n}\}, B, \phi, \psi, q_{1})$  следующим образом:

1) $\phi(q_{i}, a_{j}) =q_{i}$     при $i=1,...,m$,        $j = 1,...,k-1$
2) $\phi(q_{i}, a_{k}) =q_{i+1}$ при $i=1,...,m-1$,  $\phi(q_{m}, a_{k})=q_{1}$
3) $\phi(q_{i}, a_{j}) =q_{i+1}$  при $i=1,...,n-1$,  $j = 1,...,k$
4) $\phi(q_{n}, a_{j}) =q_{n}$    при                                $j = 1,...,k$

Полагаем $\psi(q_{m}, a_{k})=b(2)$, и $\psi(q_{1},a_{j})=b(1)$ в остальных случаях. Диаграмма Мура автомата $V_{q_{1}}$ изображена на рисунке ниже. Для любых двух различных состояний $q_{i}$ и $q_{j}$ этого автомата нетрудно подобрать такое слово (блять там трость нарисована, я не ебу что это за символ), что $\overline{\psi}(q_{i} ,\, трость) \ne \overline{\psi}(q_{j}, \, трость)$. Отсюда, как легко видеть, вытекает, что $V_{q_{1}}$ определяет од функцию $f$ веса $n$. 
![[telegram-cloud-photo-size-2-5312108422226888875-y.jpg]]

> Пояснение от Волкова: Взяли первые $m$ состояний и расположили по кругу. Выделили во входном алфавите последний символ $a_{k}$. По последнему символу автомата из первого состояния переходит во второе  и выдает $b_{1}$ из второго в третье и снова $b_{1}$ и тд. Из последнего переходит снова в первое и уже тут выдает $b_{2}$. Если подается любой входной символ кроме первого, автомат не меняет состояние и выдает $b_{1}$.
> 
> Мощность $|B| \ge 2$  потому что автомат будет выдавать постоянно один и тот же выходной символ. 
> /
> Мощность $|A| \ge 3$ потому что в этом автомате хотя бы 3 разных состояния встречаются.

Обозначим $\alpha_{1}=a_{1}...a_{1}a_{k}$ (тут  $a_{1}$ встречается $\theta -1$ раз); $\alpha_{2}=a_{2}...a_{2}a_{k}$(тут  $a_{2}$ встречается $\theta -1$ раз); $\alpha_{3}=\alpha_{1}...\alpha_{1}\alpha_{2}$ (тут  $\alpha_{1}$ встречается ${\tau}/{\theta} -1$ раз) 

> Пояснение от Волкова: Входное слово построено так, чтобы его период был равен $\tau$. Понятно, что внутри слова $\alpha_{1}$ есть только одна буква $a_{k}$, то же самое и с $\alpha_{2}$. Т.е в $\alpha_{3}$ через каждые $\theta$ тактов повторяется $a_{k}$. Вначале у него идут $\alpha_{1}$, поэтому между $a_{k}$ в данном случае все заполнено $a_{1}$. А уже в конце встречаются $a_{2}$. И $\alpha_{3}$ таким образом не позволяет сократить период потому что у каждого $\alpha_{3}$ одинаковое начало, а потом $\alpha_{2}$ их отличает. Для этого нам нужны были три разные буквы. Чтобы буквы, которые для цикла тоже между собой отличались и можно было построить длинное слово с несократимым периодом.

Сверхслово $\alpha=\alpha_{3}\alpha_{3}\alpha_{3}...$ имеет наименьшую длинну периода, равную $\tau$. Нетрудно проверить, что $f^{\infty}(\alpha) = \beta_{1}\beta_{1}...$, где $\beta_{1}=b_{1}...b_{1}b_{2}$ (тут $b_{1}$ встречается $\theta m -1$ раз), так что наименьшая длинна периода сверхслова $f^{\infty}(\alpha)$ равна $\theta m$, и теорема доказана.

>Пояснение от Волкова: Наше слово $\alpha_{1}$ представляет собой много $a_{1}$. $\theta-1$ раз подаем $a_{1}$, на выходе $b_{1}$ (смотри диограмму Мура). Один раз подали $a_{k}$, перешли в другое состояние. И так далее. Только на последнем переходе будет $b_{2}$. 
>/
>Отличимость состояний правого автомата очевидна (любые два отличаются потому что они доходят до различия за разное время). 
> /
> В левом сделали другую часть автомата. Чтобы вес равнаялся $n$, нужно достроить для остальных состояний какую-то диограмму Мура, чтобы любая пара состояний была отличима. 
> /
> Отличимость состояний второго автомата также очевидна (любые два отличаются потому что они доходят до различного состояния за разное время)
> /
> Состояния $q_{m}$ и $q_{n}$ отличимы, так как для того, чтобы получить $b_{2}$ в правый автомат нам нужно подать символ $a_{k}$, а в левый соответственно $a_{1}$. 

